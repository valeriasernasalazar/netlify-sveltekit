import{s as re,n as X,r as W,b as G}from"../chunks/scheduler.2ExYYgC5.js";import{S as ie,i as ce,e as _,s as L,p as H,c as b,a as M,n as V,k as O,d as C,b as u,f as S,l as f,o as q,q as P,r as ne,h as z,j as J,m as Q,u as oe}from"../chunks/index.BEfN5G4a.js";import{e as R}from"../chunks/each.D6YF6ztN.js";import{w as K}from"../chunks/index.BQLYkrUj.js";import{e as ue,f as fe,h as de}from"../chunks/store.Czkyq5IA.js";import{g as Y}from"../chunks/entry.BGfAofGz.js";function Z(o,t,l){const e=o.slice();return e[16]=t[l],e}function x(o,t,l){const e=o.slice();return e[19]=t[l][0],e[20]=t[l][1],e}function $(o){let t,l,e="Buscar Migrante para Cambiar Estatus",a,c,s,n,k="Nombre Completo:",j,h,v,d,N,m="Fecha de Nacimiento:",E,i,T,D,r="Buscar",p,w,y,g=o[4]&&ee(o);return{c(){t=_("div"),l=_("h1"),l.textContent=e,a=L(),c=_("form"),s=_("div"),n=_("label"),n.textContent=k,j=L(),h=_("input"),v=L(),d=_("div"),N=_("label"),N.textContent=m,E=L(),i=_("input"),T=L(),D=_("button"),D.textContent=r,p=L(),g&&g.c(),this.h()},l(I){t=b(I,"DIV",{class:!0});var B=M(t);l=b(B,"H1",{"data-svelte-h":!0}),V(l)!=="svelte-1qnd3ub"&&(l.textContent=e),a=O(B),c=b(B,"FORM",{class:!0});var F=M(c);s=b(F,"DIV",{class:!0});var U=M(s);n=b(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(n)!=="svelte-ttl2ka"&&(n.textContent=k),j=O(U),h=b(U,"INPUT",{type:!0,id:!0,class:!0}),U.forEach(C),v=O(F),d=b(F,"DIV",{class:!0});var A=M(d);N=b(A,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(N)!=="svelte-1w0esq5"&&(N.textContent=m),E=O(A),i=b(A,"INPUT",{type:!0,id:!0,class:!0}),A.forEach(C),T=O(F),D=b(F,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(D)!=="svelte-ouicbz"&&(D.textContent=r),F.forEach(C),p=O(B),g&&g.l(B),B.forEach(C),this.h()},h(){u(n,"for","nombrecompleto"),u(n,"class","svelte-apnljb"),u(h,"type","text"),u(h,"id","nombrecompleto"),h.required=!0,u(h,"class","svelte-apnljb"),u(s,"class","form-group svelte-apnljb"),u(N,"for","fechanacimiento"),u(N,"class","svelte-apnljb"),u(i,"type","date"),u(i,"id","fechanacimiento"),i.required=!0,u(i,"class","svelte-apnljb"),u(d,"class","form-group svelte-apnljb"),u(D,"type","submit"),u(D,"class","svelte-apnljb"),u(c,"class","form-container svelte-apnljb"),u(t,"class","main-container svelte-apnljb")},m(I,B){S(I,t,B),f(t,l),f(t,a),f(t,c),f(c,s),f(s,n),f(s,j),f(s,h),P(h,o[0]),f(c,v),f(c,d),f(d,N),f(d,E),f(d,i),P(i,o[1]),f(c,T),f(c,D),f(t,p),g&&g.m(t,null),w||(y=[q(h,"input",o[13]),q(i,"input",o[14]),q(c,"submit",ne(o[10]))],w=!0)},p(I,B){B&1&&h.value!==I[0]&&P(h,I[0]),B&2&&P(i,I[1]),I[4]?g?g.p(I,B):(g=ee(I),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(I){I&&C(t),g&&g.d(),w=!1,W(y)}}}function ee(o){let t,l;return{c(){t=_("p"),l=z(o[4]),this.h()},l(e){t=b(e,"P",{class:!0});var a=M(t);l=J(a,o[4]),a.forEach(C),this.h()},h(){u(t,"class","error-message svelte-apnljb")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&16&&Q(l,e[4])},d(e){e&&C(t)}}}function te(o){let t,l="Editar Estatus del Migrante a Inactivo",e,a,c,s,n,k,j,h="Último Día en Casa Monarca:",v,d,N,m,E="Cambiar de Estatus a Inactivo",i,T,D=R(o[5].data),r=[];for(let p=0;p<D.length;p+=1)r[p]=se(Z(o,D,p));return{c(){t=_("h2"),t.textContent=l,e=L(),a=_("div"),c=_("div");for(let p=0;p<r.length;p+=1)r[p].c();s=L(),n=_("form"),k=_("div"),j=_("label"),j.textContent=h,v=L(),d=_("input"),N=L(),m=_("button"),m.textContent=E,this.h()},l(p){t=b(p,"H2",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-kn5emp"&&(t.textContent=l),e=O(p),a=b(p,"DIV",{class:!0});var w=M(a);c=b(w,"DIV",{class:!0});var y=M(c);for(let B=0;B<r.length;B+=1)r[B].l(y);y.forEach(C),s=O(w),n=b(w,"FORM",{class:!0});var g=M(n);k=b(g,"DIV",{class:!0});var I=M(k);j=b(I,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(j)!=="svelte-1akwpga"&&(j.textContent=h),v=O(I),d=b(I,"INPUT",{type:!0,id:!0,class:!0}),I.forEach(C),N=O(g),m=b(g,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(m)!=="svelte-1t86dxw"&&(m.textContent=E),g.forEach(C),w.forEach(C),this.h()},h(){u(t,"class","section-title svelte-apnljb"),u(c,"class","card svelte-apnljb"),u(j,"for","ultimaFecha"),u(j,"class","svelte-apnljb"),u(d,"type","date"),u(d,"id","ultimaFecha"),d.required=!0,u(d,"class","svelte-apnljb"),u(k,"class","form-group svelte-apnljb"),u(m,"type","submit"),u(m,"class","svelte-apnljb"),u(n,"class","form-container svelte-apnljb"),u(a,"class","main-container svelte-apnljb")},m(p,w){S(p,t,w),S(p,e,w),S(p,a,w),f(a,c);for(let y=0;y<r.length;y+=1)r[y]&&r[y].m(c,null);f(a,s),f(a,n),f(n,k),f(k,j),f(k,v),f(k,d),P(d,o[2]),f(n,N),f(n,m),i||(T=[q(d,"input",o[15]),q(n,"submit",ne(o[11]))],i=!0)},p(p,w){if(w&544){D=R(p[5].data);let y;for(y=0;y<D.length;y+=1){const g=Z(p,D,y);r[y]?r[y].p(g,w):(r[y]=se(g),r[y].c(),r[y].m(c,null))}for(;y<r.length;y+=1)r[y].d(1);r.length=D.length}w&4&&P(d,p[2])},d(p){p&&(C(t),C(e),C(a)),oe(r,p),i=!1,W(T)}}}function le(o){let t,l,e=(o[9][o[19].toLowerCase()]||o[19])+"",a,c,s,n,k=o[20]+"",j,h;return{c(){t=_("div"),l=_("span"),a=z(e),c=z(":"),s=L(),n=_("span"),j=z(k),h=L(),this.h()},l(v){t=b(v,"DIV",{class:!0});var d=M(t);l=b(d,"SPAN",{class:!0});var N=M(l);a=J(N,e),c=J(N,":"),N.forEach(C),s=O(d),n=b(d,"SPAN",{class:!0});var m=M(n);j=J(m,k),m.forEach(C),h=O(d),d.forEach(C),this.h()},h(){u(l,"class","card-key svelte-apnljb"),u(n,"class","card-value svelte-apnljb"),u(t,"class","card-row svelte-apnljb")},m(v,d){S(v,t,d),f(t,l),f(l,a),f(l,c),f(t,s),f(t,n),f(n,j),f(t,h)},p(v,d){d&32&&e!==(e=(v[9][v[19].toLowerCase()]||v[19])+"")&&Q(a,e),d&32&&k!==(k=v[20]+"")&&Q(j,k)},d(v){v&&C(t)}}}function ae(o){let t,l=(o[19]=="nombrecompleto"||o[19]=="fechanacimiento")&&le(o);return{c(){l&&l.c(),t=H()},l(e){l&&l.l(e),t=H()},m(e,a){l&&l.m(e,a),S(e,t,a)},p(e,a){e[19]=="nombrecompleto"||e[19]=="fechanacimiento"?l?l.p(e,a):(l=le(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&C(t),l&&l.d(e)}}}function se(o){let t,l=R(Object.entries(o[16])),e=[];for(let a=0;a<l.length;a+=1)e[a]=ae(x(o,l,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=H()},l(a){for(let c=0;c<e.length;c+=1)e[c].l(a);t=H()},m(a,c){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(a,c);S(a,t,c)},p(a,c){if(c&544){l=R(Object.entries(a[16]));let s;for(s=0;s<l.length;s+=1){const n=x(a,l,s);e[s]?e[s].p(n,c):(e[s]=ae(n),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=l.length}},d(a){a&&C(t),oe(e,a)}}}function pe(o){let t,l,e,a,c='<i class="fa-solid fa-arrow-left"></i> <p>Inicio</p>',s,n,k='<i class="fa-solid fa-right-from-bracket"></i> <p>Cerrar Sesión</p>',j,h,v,d,N,m=!o[3]&&$(o),E=o[5]&&te(o);return{c(){t=_("div"),l=_("div"),e=_("div"),a=_("button"),a.innerHTML=c,s=L(),n=_("button"),n.innerHTML=k,j=L(),m&&m.c(),h=L(),E&&E.c(),v=H(),this.h()},l(i){t=b(i,"DIV",{class:!0});var T=M(t);l=b(T,"DIV",{class:!0});var D=M(l);e=b(D,"DIV",{class:!0});var r=M(e);a=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-92lfck"&&(a.innerHTML=c),s=O(r),n=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-1p6l6vt"&&(n.innerHTML=k),r.forEach(C),D.forEach(C),T.forEach(C),j=O(i),m&&m.l(i),h=O(i),E&&E.l(i),v=H(),this.h()},h(){u(a,"class","svelte-apnljb"),u(n,"class","svelte-apnljb"),u(e,"class","hB svelte-apnljb"),u(l,"class","Hc"),u(t,"class","Mc svelte-apnljb")},m(i,T){S(i,t,T),f(t,l),f(l,e),f(e,a),f(e,s),f(e,n),S(i,j,T),m&&m.m(i,T),S(i,h,T),E&&E.m(i,T),S(i,v,T),d||(N=[q(a,"click",o[12]),q(n,"click",ue.logout)],d=!0)},p(i,[T]){i[3]?m&&(m.d(1),m=null):m?m.p(i,T):(m=$(i),m.c(),m.m(h.parentNode,h)),i[5]?E?E.p(i,T):(E=te(i),E.c(),E.m(v.parentNode,v)):E&&(E.d(1),E=null)},i:X,o:X,d(i){i&&(C(t),C(j),C(h),C(v)),m&&m.d(i),E&&E.d(i),d=!1,W(N)}}}function he(o,t,l){let e,a,c,s="",n="",k="",j=K(null);G(o,j,r=>l(5,c=r));let h=K("");G(o,h,r=>l(4,a=r));let v=K(!1);G(o,v,r=>l(3,e=r));const d={nombrecompleto:"Nombre completo",fechanacimiento:"Fecha de nacimiento",ultimaFecha:"Último día en Casa Monarca"};async function N(){try{const r=await fetch("/api/decrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombrecompleto:s,fechanacimiento:n})});if(r.ok){const p=await r.json();console.log("Datos recibidos:",p),j.set(p),h.set(""),v.set(!0),fe.set(s),de.set(n)}else{const p=await r.text();h.set(p||"Error desconocido")}}catch(r){h.set(`Error de conexión: ${r.message}`)}}async function m(){try{const r=await fetch("/api/darDeBaja",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombrecompleto:s,fechanacimiento:n,ultimaFecha:k})});if(r.ok){const p=await r.json();console.log("Estado actualizado:",p),Y("/admin")}else{const p=await r.text();h.set(p||"Error desconocido")}}catch(r){h.set(`Error de conexión: ${r.message}`)}}const E=()=>Y("/admin");function i(){s=this.value,l(0,s)}function T(){n=this.value,l(1,n)}function D(){k=this.value,l(2,k)}return[s,n,k,e,a,c,j,h,v,d,N,m,E,i,T,D]}class ke extends ie{constructor(t){super(),ce(this,t,he,pe,re,{})}}export{ke as component};
