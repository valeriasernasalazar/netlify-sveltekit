import{s as re,n as W,r as ie,b as R}from"../chunks/scheduler.2ExYYgC5.js";import{S as ne,i as ce,e as j,s as w,p as q,c as k,a as I,n as B,k as y,d as _,b as p,f as T,l as m,o as O,q as P,r as fe,h as U,j as A,m as K,u as oe}from"../chunks/index.BEfN5G4a.js";import{e as F}from"../chunks/each.D6YF6ztN.js";import{w as G}from"../chunks/index.BQLYkrUj.js";import{e as ue,f as de,h as he}from"../chunks/store.Czkyq5IA.js";import{g as X}from"../chunks/entry.BGfAofGz.js";function Y(r,t,l){const e=r.slice();return e[14]=t[l],e}function Z(r,t,l){const e=r.slice();return e[17]=t[l][0],e[18]=t[l][1],e}function x(r){let t,l,e="Buscar Migrante para Acceder a Servicios",s,c,o,n,C="Nombre Completo:",g,v,b,h,f,i="Fecha de Nacimiento:",u,a,d,E,S="Buscar",z,J,Q,N=r[3]&&$(r);return{c(){t=j("div"),l=j("h1"),l.textContent=e,s=w(),c=j("form"),o=j("div"),n=j("label"),n.textContent=C,g=w(),v=j("input"),b=w(),h=j("div"),f=j("label"),f.textContent=i,u=w(),a=j("input"),d=w(),E=j("button"),E.textContent=S,z=w(),N&&N.c(),this.h()},l(D){t=k(D,"DIV",{class:!0});var L=I(t);l=k(L,"H1",{"data-svelte-h":!0}),B(l)!=="svelte-1g3bcty"&&(l.textContent=e),s=y(L),c=k(L,"FORM",{class:!0});var V=I(c);o=k(V,"DIV",{class:!0});var H=I(o);n=k(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(n)!=="svelte-ttl2ka"&&(n.textContent=C),g=y(H),v=k(H,"INPUT",{type:!0,id:!0,class:!0}),H.forEach(_),b=y(V),h=k(V,"DIV",{class:!0});var M=I(h);f=k(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(f)!=="svelte-1w0esq5"&&(f.textContent=i),u=y(M),a=k(M,"INPUT",{type:!0,id:!0,class:!0}),M.forEach(_),d=y(V),E=k(V,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(E)!=="svelte-ouicbz"&&(E.textContent=S),V.forEach(_),z=y(L),N&&N.l(L),L.forEach(_),this.h()},h(){p(n,"for","nombrecompleto"),p(n,"class","svelte-1hj8d9v"),p(v,"type","text"),p(v,"id","nombrecompleto"),v.required=!0,p(v,"class","svelte-1hj8d9v"),p(o,"class","form-group svelte-1hj8d9v"),p(f,"for","fechanacimiento"),p(f,"class","svelte-1hj8d9v"),p(a,"type","date"),p(a,"id","fechanacimiento"),a.required=!0,p(a,"class","svelte-1hj8d9v"),p(h,"class","form-group svelte-1hj8d9v"),p(E,"type","submit"),p(E,"class","svelte-1hj8d9v"),p(c,"class","form-container svelte-1hj8d9v"),p(t,"class","main-container svelte-1hj8d9v")},m(D,L){T(D,t,L),m(t,l),m(t,s),m(t,c),m(c,o),m(o,n),m(o,g),m(o,v),P(v,r[0]),m(c,b),m(c,h),m(h,f),m(h,u),m(h,a),P(a,r[1]),m(c,d),m(c,E),m(t,z),N&&N.m(t,null),J||(Q=[O(v,"input",r[11]),O(a,"input",r[12]),O(c,"submit",fe(r[9]))],J=!0)},p(D,L){L&1&&v.value!==D[0]&&P(v,D[0]),L&2&&P(a,D[1]),D[3]?N?N.p(D,L):(N=$(D),N.c(),N.m(t,null)):N&&(N.d(1),N=null)},d(D){D&&_(t),N&&N.d(),J=!1,ie(Q)}}}function $(r){let t,l;return{c(){t=j("p"),l=U(r[3]),this.h()},l(e){t=k(e,"P",{class:!0});var s=I(t);l=A(s,r[3]),s.forEach(_),this.h()},h(){p(t,"class","error-message svelte-1hj8d9v")},m(e,s){T(e,t,s),m(t,l)},p(e,s){s&8&&K(l,e[3])},d(e){e&&_(t)}}}function ee(r){let t,l="Información del Migrante",e,s,c,o,n,C,g="Ir a modificar servicios para este migrante",v,b,h=F(r[4].data),f=[];for(let i=0;i<h.length;i+=1)f[i]=se(Y(r,h,i));return{c(){t=j("h2"),t.textContent=l,e=w(),s=j("div");for(let i=0;i<f.length;i+=1)f[i].c();c=w(),o=j("div"),n=j("div"),C=j("button"),C.textContent=g,this.h()},l(i){t=k(i,"H2",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-179nj3i"&&(t.textContent=l),e=y(i),s=k(i,"DIV",{class:!0});var u=I(s);for(let E=0;E<f.length;E+=1)f[E].l(u);u.forEach(_),c=y(i),o=k(i,"DIV",{class:!0});var a=I(o);n=k(a,"DIV",{class:!0});var d=I(n);C=k(d,"BUTTON",{class:!0,"data-svelte-h":!0}),B(C)!=="svelte-1ib4ib3"&&(C.textContent=g),d.forEach(_),a.forEach(_),this.h()},h(){p(t,"class","section-title svelte-1hj8d9v"),p(s,"class","card svelte-1hj8d9v"),p(C,"class","service-button svelte-1hj8d9v"),p(n,"class","buttonContainer svelte-1hj8d9v"),p(o,"class","contentContainer svelte-1hj8d9v")},m(i,u){T(i,t,u),T(i,e,u),T(i,s,u);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(s,null);T(i,c,u),T(i,o,u),m(o,n),m(n,C),v||(b=O(C,"click",r[13]),v=!0)},p(i,u){if(u&272){h=F(i[4].data);let a;for(a=0;a<h.length;a+=1){const d=Y(i,h,a);f[a]?f[a].p(d,u):(f[a]=se(d),f[a].c(),f[a].m(s,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=h.length}},d(i){i&&(_(t),_(e),_(s),_(c),_(o)),oe(f,i),v=!1,b()}}}function te(r){let t,l,e=(r[8][r[17].toLowerCase()]||r[17])+"",s,c,o,n,C=ae(r[18])+"",g,v;return{c(){t=j("div"),l=j("span"),s=U(e),c=U(":"),o=w(),n=j("span"),g=U(C),v=w(),this.h()},l(b){t=k(b,"DIV",{class:!0});var h=I(t);l=k(h,"SPAN",{class:!0});var f=I(l);s=A(f,e),c=A(f,":"),f.forEach(_),o=y(h),n=k(h,"SPAN",{class:!0});var i=I(n);g=A(i,C),i.forEach(_),v=y(h),h.forEach(_),this.h()},h(){p(l,"class","card-key svelte-1hj8d9v"),p(n,"class","card-value svelte-1hj8d9v"),p(t,"class","card-row svelte-1hj8d9v")},m(b,h){T(b,t,h),m(t,l),m(l,s),m(l,c),m(t,o),m(t,n),m(n,g),m(t,v)},p(b,h){h&16&&e!==(e=(b[8][b[17].toLowerCase()]||b[17])+"")&&K(s,e),h&16&&C!==(C=ae(b[18])+"")&&K(g,C)},d(b){b&&_(t)}}}function le(r){let t,l=(r[17]=="nombrecompleto"||r[17]=="fechanacimiento")&&te(r);return{c(){l&&l.c(),t=q()},l(e){l&&l.l(e),t=q()},m(e,s){l&&l.m(e,s),T(e,t,s)},p(e,s){e[17]=="nombrecompleto"||e[17]=="fechanacimiento"?l?l.p(e,s):(l=te(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function se(r){let t,l=F(Object.entries(r[14])),e=[];for(let s=0;s<l.length;s+=1)e[s]=le(Z(r,l,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=q()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);t=q()},m(s,c){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,c);T(s,t,c)},p(s,c){if(c&272){l=F(Object.entries(s[14]));let o;for(o=0;o<l.length;o+=1){const n=Z(s,l,o);e[o]?e[o].p(n,c):(e[o]=le(n),e[o].c(),e[o].m(t.parentNode,t))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},d(s){s&&_(t),oe(e,s)}}}function ve(r){let t,l,e,s,c='<i class="fa-solid fa-arrow-left"></i> <p>Inicio</p>',o,n,C='<i class="fa-solid fa-right-from-bracket"></i> <p>Cerrar Sesión</p>',g,v,b,h,f,i=!r[2]&&x(r),u=r[4]&&ee(r);return{c(){t=j("div"),l=j("div"),e=j("div"),s=j("button"),s.innerHTML=c,o=w(),n=j("button"),n.innerHTML=C,g=w(),i&&i.c(),v=w(),u&&u.c(),b=q(),this.h()},l(a){t=k(a,"DIV",{class:!0});var d=I(t);l=k(d,"DIV",{class:!0});var E=I(l);e=k(E,"DIV",{class:!0});var S=I(e);s=k(S,"BUTTON",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-wlqpr8"&&(s.innerHTML=c),o=y(S),n=k(S,"BUTTON",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-1p6l6vt"&&(n.innerHTML=C),S.forEach(_),E.forEach(_),d.forEach(_),g=y(a),i&&i.l(a),v=y(a),u&&u.l(a),b=q(),this.h()},h(){p(s,"class","svelte-1hj8d9v"),p(n,"class","svelte-1hj8d9v"),p(e,"class","hB svelte-1hj8d9v"),p(l,"class","Hc"),p(t,"class","Mc svelte-1hj8d9v")},m(a,d){T(a,t,d),m(t,l),m(l,e),m(e,s),m(e,o),m(e,n),T(a,g,d),i&&i.m(a,d),T(a,v,d),u&&u.m(a,d),T(a,b,d),h||(f=[O(s,"click",r[10]),O(n,"click",ue.logout)],h=!0)},p(a,[d]){a[2]?i&&(i.d(1),i=null):i?i.p(a,d):(i=x(a),i.c(),i.m(v.parentNode,v)),a[4]?u?u.p(a,d):(u=ee(a),u.c(),u.m(b.parentNode,b)):u&&(u.d(1),u=null)},i:W,o:W,d(a){a&&(_(t),_(g),_(v),_(b)),i&&i.d(a),u&&u.d(a),h=!1,ie(f)}}}function ae(r){return r.replace(/\b(\w)(\S*)/g,(t,l,e)=>l.toUpperCase()+e.toLowerCase())}function pe(r,t,l){let e,s,c,o="",n="",C=G(null);R(r,C,d=>l(4,c=d));let g=G("");R(r,g,d=>l(3,s=d));let v=G(!1);R(r,v,d=>l(2,e=d));const b={nombrecompleto:"Nombre completo",fechanacimiento:"Fecha de nacimiento"};async function h(){try{const d=await fetch("/api/decrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombrecompleto:o,fechanacimiento:n})});if(d.ok){const E=await d.json();console.log("Datos recibidos:",E),C.set(E),g.set(""),v.set(!0),de.set(o),he.set(n)}else{const E=await d.text();g.set(E||"Error desconocido")}}catch(d){g.set(`Error de conexión: ${d.message}`)}}const f=()=>X("/mortal");function i(){o=this.value,l(0,o)}function u(){n=this.value,l(1,n)}return[o,n,e,s,c,C,g,v,b,h,f,i,u,()=>X("/mortal/modificar/servicios")]}class ge extends ne{constructor(t){super(),ce(this,t,pe,ve,re,{})}}export{ge as component};
